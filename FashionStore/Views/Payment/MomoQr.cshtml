@model FashionStore.Models.ViewModels.MomoPaymentViewModel
@{
    ViewBag.Title = "Thanh toán MoMo";
    var qrImage = !string.IsNullOrEmpty(Model.QrCodeUrl)
        ? Model.QrCodeUrl
        : $"https://api.qrserver.com/v1/create-qr-code/?size=280x280&data={System.Web.HttpUtility.UrlEncode(Model.PayUrl)}";
}

<style>
    .momo-wrapper {
        max-width: 680px;
        margin: 30px auto;
        background: #fff;
        border-radius: 14px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
        padding: 28px;
        text-align: center;
    }
    .momo-header {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        margin-bottom: 6px;
    }
    .momo-header i {
        color: #a50064;
        font-size: 28px;
    }
    .momo-amount {
        font-size: 24px;
        font-weight: 700;
        color: #a50064;
        margin-bottom: 16px;
    }
    .qr-box {
        display: inline-block;
        padding: 16px;
        border: 1px dashed #e0e0e0;
        border-radius: 12px;
        background: #fafafa;
        margin-bottom: 16px;
    }
    .qr-box img {
        width: 260px;
        height: 260px;
    }
    .momo-actions {
        display: flex;
        gap: 12px;
        justify-content: center;
        flex-wrap: wrap;
        margin-top: 10px;
    }
    .btn-momo {
        background: linear-gradient(135deg, #a50064, #d81b60);
        color: #fff;
        border: none;
        padding: 12px 18px;
        border-radius: 10px;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.2s ease;
    }
    .btn-momo:hover {
        opacity: 0.92;
        color: #fff;
    }
    .hint {
        color: #666;
        margin-top: 6px;
    }
</style>

<div class="momo-wrapper">
    <div class="momo-header">
        <i class="fas fa-mobile-alt"></i>
        <h2 style="margin:0;">Thanh toán MoMo</h2>
    </div>
    <div class="hint">Đơn hàng #@Model.OrderId</div>
    <div class="momo-amount">@Model.Amount.ToString("N0")đ</div>
    <div class="qr-box">
        <img src="@qrImage" alt="QR MoMo" />
    </div>
    <div class="hint">Mở ứng dụng MoMo, chọn Quét mã để thanh toán</div>
    <div class="momo-actions">
        <a class="btn-momo" href="@Model.PayUrl" target="_blank" rel="noopener">
            <i class="fas fa-external-link-alt me-1"></i> Mở liên kết MoMo
        </a>
        <a class="btn btn-outline-secondary" href="@Url.Action("Checkout", "Order")">
            <i class="fas fa-arrow-left me-1"></i> Quay lại giỏ
        </a>
    </div>
</div>

